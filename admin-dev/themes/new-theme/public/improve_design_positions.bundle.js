/******/!function(o){function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return o[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}// webpackBootstrap
/******/
var t={};e.m=o,e.c=t,e.i=function(o){return o},e.d=function(o,t,n){e.o(o,t)||Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=382)}({188:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(232);(0,window.$)(function(){new n.a})},232:function(o,e,t){"use strict";function n(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),l=window.$,s=function(){function o(){if(n(this,o),0!==l("#position-filters").length){var e=this;e.$panelSelection=l("#modules-position-selection-panel"),e.$panelSelectionSingleSelection=l("#modules-position-single-selection"),e.$panelSelectionMultipleSelection=l("#modules-position-multiple-selection"),e.$panelSelectionOriginalY=e.$panelSelection.offset().top,e.$showModules=l("#show-modules"),e.$modulesList=l(".modules-position-checkbox"),e.$hookPosition=l("#hook-position"),e.$hookSearch=l("#hook-search"),e.$modulePositionsForm=l("#module-positions-form"),e.$moduleUnhookButton=l("#unhook-button-position-bottom"),e.handleList(),e.handleSortable(),l('input[name="form[general][enable_tos]"]').on("change",function(){return e.handle()})}}return i(o,[{key:"handleList",value:function(){var o=this,e=this;l(window).on("scroll",function(){var o=l(window).scrollTop();e.$panelSelection.css("top",o<20?0:o-e.$panelSelectionOriginalY)}),e.$modulesList.on("change",function(){var o=e.$modulesList.filter(":checked").length;0===o?(e.$moduleUnhookButton.hide(),e.$panelSelection.hide(),e.$panelSelectionSingleSelection.hide(),e.$panelSelectionMultipleSelection.hide()):1===o?(e.$moduleUnhookButton.show(),e.$panelSelection.show(),e.$panelSelectionSingleSelection.show(),e.$panelSelectionMultipleSelection.hide()):(e.$moduleUnhookButton.show(),e.$panelSelection.show(),e.$panelSelectionSingleSelection.hide(),e.$panelSelectionMultipleSelection.show(),l("#modules-position-selection-count").html(o))}),e.$panelSelection.find("button").click(function(){l('button[name="unhookform"]').trigger("click")}),e.$hooksList=[],l("section.hook-panel .hook-name").each(function(){var o=l(this);e.$hooksList.push({title:o.html(),element:o,container:o.parents(".hook-panel")})}),e.$showModules.select2(),e.$showModules.on("change",function(){o.modulesPositionFilterHooks()}),e.$hookPosition.on("change",function(){o.modulesPositionFilterHooks()}),e.$hookSearch.on("input",function(){o.modulesPositionFilterHooks()}),l(".hook-checker").on("click",function(){l(".hook"+l(this).data("hook-id")).prop("checked",l(this).prop("checked"))}),e.$modulesList.on("click",function(){l("#Ghook"+l(this).data("hook-id")).prop("checked",0===l(".hook"+l(this).data("hook-id")+":not(:checked)").length)})}},{key:"handleSortable",value:function(){var o=this;l(".sortable").sortable({forcePlaceholderSize:!0,start:function(o,e){l(this).data("previous-index",e.item.index())},update:function(e,t){var n=t.item.attr("id").split("_"),i=n.hookId,s=n.moduleId,a={hookId:i,moduleId:s,way:l(this).data("previous-index")<t.item.index()?1:0,positions:[]};l.each(e.target.children,function(o,e){a.positions.push(l(e).attr("id"))}),l.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:o.$modulePositionsForm.data("update-url"),data:a,success:function(){var o=0;l.each(e.target.children,function(e,t){l(t).find(".index-position").html(++o)}),window.showSuccessMessage(window.update_success_msg)}})}})}},{key:"modulesPositionFilterHooks",value:function(){for(var o=this,e=o.$hookSearch.val(),t=o.$showModules.val(),n=o.$hookPosition.prop("checked"),i=new RegExp("("+e+")","gi"),s=0;s<o.$hooksList.length;s++)o.$hooksList[s].container.toggle(""===e&&"all"===t),o.$hooksList[s].element.html(o.$hooksList[s].title),o.$hooksList[s].container.find(".module-item").removeClass("highlight");if(""!==e||"all"!==t){for(var a=l(),c=l(),h=void 0,r=0;r<o.$hooksList.length;r++)"all"!==t&&(h=o.$hooksList[r].container.find(".module-position-"+t),h.length>0&&(a=a.add(o.$hooksList[r].container),h.addClass("highlight"))),""!==e&&-1!==o.$hooksList[r].title.toLowerCase().search(e.toLowerCase())&&(c=c.add(o.$hooksList[r].container),o.$hooksList[r].element.html(o.$hooksList[r].title.replace(i,'<span class="highlight">$1</span>')));"all"===t&&""!==e?c.show():""===e&&"all"!==t?a.show():c.filter(a).show()}if(!n)for(var u=0;u<o.$hooksList.length;u++)o.$hooksList[u].container.is(".hook-position")&&o.$hooksList[u].container.hide()}}]),o}();e.a=s},382:function(o,e,t){o.exports=t(188)}});