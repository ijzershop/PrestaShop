/******/!function(o){function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return o[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}// webpackBootstrap
/******/
var t={};e.m=o,e.c=t,e.i=function(o){return o},e.d=function(o,t,n){e.o(o,t)||Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=383)}({192:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(233);(0,window.$)(function(){new n.a})},233:function(o,e,t){"use strict";function n(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),l=window.$,s=function(){function o(){if(n(this,o),0!==l("#position-filters").length){var e=this;e.$panelSelection=l("#modules-position-selection-panel"),e.$panelSelectionSingleSelection=l("#modules-position-single-selection"),e.$panelSelectionMultipleSelection=l("#modules-position-multiple-selection"),e.$panelSelectionOriginalY=e.$panelSelection.offset().top,e.$showModules=l("#show-modules"),e.$modulesList=l(".modules-position-checkbox"),e.$hookPosition=l("#hook-position"),e.$hookSearch=l("#hook-search"),e.$modulePositionsForm=l("#module-positions-form"),e.$moduleUnhookButton=l("#unhook-button-position-bottom"),e.handleList(),e.handleSortable(),l('input[name="form[general][enable_tos]"]').on("change",function(){return e.handle()})}}return i(o,[{key:"handleList",value:function(){var o=this;l(window).on("scroll",function(){var e=l(window).scrollTop();o.$panelSelection.css("top",e<20?0:e-o.$panelSelectionOriginalY)}),o.$modulesList.on("change",function(){var e=o.$modulesList.filter(":checked").length;0===e?(o.$moduleUnhookButton.hide(),o.$panelSelection.hide(),o.$panelSelectionSingleSelection.hide(),o.$panelSelectionMultipleSelection.hide()):1===e?(o.$moduleUnhookButton.show(),o.$panelSelection.show(),o.$panelSelectionSingleSelection.show(),o.$panelSelectionMultipleSelection.hide()):(o.$moduleUnhookButton.show(),o.$panelSelection.show(),o.$panelSelectionSingleSelection.hide(),o.$panelSelectionMultipleSelection.show(),l("#modules-position-selection-count").html(e))}),o.$panelSelection.find("button").click(function(){l('button[name="unhookform"]').trigger("click")}),o.$hooksList=[],l("section.hook-panel .hook-name").each(function(){var e=l(this);o.$hooksList.push({title:e.html(),element:e,container:e.parents(".hook-panel")})}),o.$showModules.select2(),o.$showModules.on("change",function(){o.modulesPositionFilterHooks()}),o.$hookPosition.on("change",function(){o.modulesPositionFilterHooks()}),o.$hookSearch.on("input",function(){o.modulesPositionFilterHooks()}),l(".hook-checker").on("click",function(){l(".hook"+l(this).data("hook-id")).prop("checked",l(this).prop("checked"))}),o.$modulesList.on("click",function(){l("#Ghook"+l(this).data("hook-id")).prop("checked",0===l(".hook"+l(this).data("hook-id")+":not(:checked)").length)})}},{key:"handleSortable",value:function(){var o=this;l(".sortable").sortable({forcePlaceholderSize:!0,start:function(o,e){l(this).data("previous-index",e.item.index())},update:function(e,t){var n=t.item.attr("id").split("_"),i=n.hookId,s=n.moduleId,a={hookId:i,moduleId:s,way:l(this).data("previous-index")<t.item.index()?1:0,positions:[]};l.each(e.target.children,function(o,e){a.positions.push(l(e).attr("id"))}),l.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:o.$modulePositionsForm.data("update-url"),data:a,success:function(){var o=0;l.each(e.target.children,function(e,t){l(t).find(".index-position").html(++o)}),window.showSuccessMessage(window.update_success_msg)}})}})}},{key:"modulesPositionFilterHooks",value:function(){for(var o=this,e=o.$hookSearch.val(),t=o.$showModules.val(),n=new RegExp("("+e+")","gi"),i=0;i<o.$hooksList.length;i++)o.$hooksList[i].container.toggle(""===e&&"all"===t),o.$hooksList[i].element.html(o.$hooksList[i].title),o.$hooksList[i].container.find(".module-item").removeClass("highlight");if(""!==e||"all"!==t){for(var s=l(),a=l(),c=void 0,h=0;h<o.$hooksList.length;h++)"all"!==t&&(c=o.$hooksList[h].container.find(".module-position-"+t),c.length>0&&(s=s.add(o.$hooksList[h].container),c.addClass("highlight"))),""!==e&&-1!==o.$hooksList[h].title.toLowerCase().search(e.toLowerCase())&&(a=a.add(o.$hooksList[h].container),o.$hooksList[h].element.html(o.$hooksList[h].title.replace(n,'<span class="highlight">$1</span>')));"all"===t&&""!==e?a.show():""===e&&"all"!==t?s.show():a.filter(s).show()}if(!o.$hookPosition.prop("checked"))for(var r=0;r<o.$hooksList.length;r++)o.$hooksList[r].container.is(".hook-position")&&o.$hooksList[r].container.hide()}}]),o}();e.a=s},383:function(o,e,t){o.exports=t(192)}});