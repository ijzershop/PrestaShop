(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboardActivityRevenue"],{"0395":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"tw-px-0",on:{scroll:t.onScroll}},[a("ErrorBoundary",[a("b-button-group",{staticClass:"tw-mb-8",attrs:{size:"sm"}},t._l(t.buttons,(function(e){return a("b-button",{key:e.id,attrs:{id:e.id,variant:e.variantButton,disabled:e.disabled},on:{click:function(a){return a.preventDefault(),t.activateButton(e)}}},[t._v(" "+t._s(e.label[0].toUpperCase()+e.label.slice(1))+" ")])})),1),a("b-container",{staticClass:"tw-px-0"},[a("BarChartWithLoader-ExtensionPoint",{attrs:{"choice-tab":t.title,data:this.$store.state.dashboard.state.dataRevenue,loading:this.$store.state.dashboard.state.loadingRevenueByPeriodicity,labels:this.$store.state.dashboard.state.labelsRevenue,granularity:t.granularity,"short-cut-date":this.$store.getters.buttonDate}})],1),a("b-container",{staticClass:"tw-px-0"},[a("HorizontalBarChartWithLoader",{attrs:{data:this.$store.state.dashboard.state.dataRevenueByCategory,loading:this.$store.state.dashboard.state.loadingRevenueByCategory,labels:this.$store.state.dashboard.state.labelsRevenueByCategory,granularity:t.granularity}})],1)],1)],1)},i=[],n=(a("4160"),a("d81d"),a("159b"),a("5530")),r=a("bb1b"),o=a("cebc"),d=a("c1df"),u={name:"Revenues",components:{HorizontalBarChartWithLoader:r["a"]},props:{title:{type:String,default:"revenue"}},data:function(){return{buttons:[{id:1,pressed:!0,label:this.$t("tabsBody.dates.day"),slug:"days",variantButton:"primary",disabled:!1},{id:2,pressed:!1,label:this.$t("tabsBody.dates.week"),slug:"weeks",variantButton:"outline-secondary",disabled:!1},{id:3,pressed:!1,label:this.$t("tabsBody.dates.month"),slug:"months",variantButton:"outline-secondary",disabled:!1}],granularity:"days",loading:!0,unwatchButtonDate:""}},created:function(){var t=this;this.setTabSelected("revenue"),this.unwatchButtonDate=this.$store.watch((function(t,e){return{buttonDate:e.buttonDate,dateRange:e.dateRange}}),(function(e){t.detectButtonDisable(e.buttonDate,e.dateRange),t.getRevenueByPeriodicity({date:e.dateRange,granularity:t.granularity})}),{immediate:!0})},beforeDestroy:function(){this.unwatchButtonDate()},methods:Object(n["a"])(Object(n["a"])({},Object(o["c"])({getRevenueByPeriodicity:"getRevenueByPeriodicity",setTabSelected:"setTabSelected"})),{},{activateButton:function(t){this.granularity=t.slug,this.deactivateButtons(),t.pressed=!0,t.variantButton="primary",this.getRevenueByPeriodicity({date:this.$store.getters.dateRange,granularity:this.granularity}),this.$segment.track("Change Granularity",{title:t.label,module:"ps_metrics"})},deactivateButtons:function(){this.buttons.forEach((function(t){t.pressed=!1,t.variantButton="outline-secondary"}))},onScroll:function(t){var e=t.target,a=e.scrollTop,s=e.clientHeight,i=e.scrollHeight;a+s>=i&&this.$segment.track("scroll revenue",{title:this.title,module:"ps_metrics"})},detectButtonDisable:function(t,e){switch(t){case"yesterday":case"7days":this.buttons[1].disabled=!0,this.buttons[2].disabled=!0,this.deactivateButtons(),this.buttons[0].pressed=!0,this.buttons[0].variantButton="primary";break;case"custom":var a=Math.abs(d(e.start).diff(d(e.end),"days"))+1;a<=7?(this.buttons[1].disabled=!0,this.buttons[2].disabled=!0,this.deactivateButtons(),this.buttons[0].pressed=!0,this.buttons[0].variantButton="primary"):a>7&&a<30?(this.buttons[1].disabled=!1,this.buttons[2].disabled=!0,this.deactivateButtons(),this.buttons[0].pressed=!0,this.buttons[0].variantButton="primary"):(this.buttons.map((function(t){t.disabled=!1})),this.deactivateButtons(),this.buttons[0].pressed=!0,this.buttons[0].variantButton="primary");break;default:this.buttons.map((function(t){t.disabled=!1})),this.deactivateButtons(),this.buttons[0].pressed=!0,this.buttons[0].variantButton="primary";break}}})},l=u,b=a("2877"),c=Object(b["a"])(l,s,i,!1,null,null,null);e["default"]=c.exports}}]);